package com.mafi.distanzatest1;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Context;
import android.os.Bundle;
import android.os.Environment;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.TextView;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;


import com.timeseries.TimeSeries;
import com.util.DistanceFunction;
import com.util.DistanceFunctionFactory;

public class MainActivity extends AppCompatActivity {

    TextView tv=null;
    Button bt;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        tv= findViewById(R.id.tvTv);
        bt=findViewById(R.id.btId);

        bt.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                DistanceFunction distFn = DistanceFunctionFactory.getDistFnByName("EuclideanDistance");



               double Y[]={-2.2679412, -2.5145822, -3.5669582, -4.1396036, 1.4003303, 0.34225592, 1.5651854, 3.8412092, 0.44234315, 2.8730707, 5.1192913, 3.8943415, 4.627887, 7.600594, 7.875286, 4.416948, 2.8522794, 3.6036568, 2.9376185, 1.3967294, 1.9958353, 4.053125, 4.8701415, 5.680962, 6.7639837, 2.8412566, 3.8805318, 1.953027, 1.7170736, 2.3387616, 2.9175837, 2.4298563, 2.6291304, 2.6841109, 2.9114356, 2.8880682, 3.2345665, 2.9834054, 2.8990812,2.2871234, 1.9076903, 1.6769851, 1.8825608, 3.0146925, 2.988634, 5.1005883, 9.295948, 4.9329944, 2.9461608,
                        2.2542846, 4.360253, 5.1738796, 1.9391215, 2.8662424, 3.4841955, 4.999457, 4.006974, 1.8824651, 3.9530473, 3.1205258, 3.5197158, 3.3202693, 2.8318617, 2.6038094, 1.6453338, 5.355159, 2.7448852, 2.9798236, 3.1446307, 3.194028, 3.2412992, 3.369542, 3.133732, 2.787636,3.3357837,
                        4.427684, 3.239891, 1.8961502, 1.5635861, 1.8208287, 1.9676603, 1.9783002, 2.4224436,2.7557645, 3.523106, 5.1690626, 5.9556437, 5.2855926, 5.068793, 5.141548, 4.344442, 3.752279, 3.8066564, 3.6720448, 2.8533425, 4.134068, 4.0966134, 3.3700304, 3.5389175, 3.4696484, 3.2922668,
                        2.7979503, 3.0826018, 3.6482847, 3.6744485, 2.94279, 2.4187279, 2.0013802, 2.3347871, 2.931652, 3.5293117, 4.005902, 4.2097154, 4.169713, 3.6719391, 3.5764012, 4.5232406, 5.3026395, 5.936126, 6.0125394, 5.6540318, 5.28499, 5.216506, 5.0475135, 4.5493093, 3.874977, 3.9552307, 4.248243, 4.4344926, 4.954599, 5.2709885, 5.491389,
                        5.46646, 5.4203005, 5.279196, 5.0579906, 5.292431, 5.043855, 4.373383, 3.986365, 3.8282042, 4.035226, 4.1717243, 4.074213, 4.137822, 4.2538357, 4.4169865, 4.517897, 4.461738, 4.388859, 4.2848644, 4.146872, 4.1614294, 4.200282, 4.2095428, 4.1526856, 4.2346725, 4.31642, 4.2733436, 4.2555785, 4.1356387, 4.0274205, 3.9794698, 3.912911, 3.8027105, 3.8664634, 4.115805, 4.264897, 4.3270793, 4.2752686, 4.1638713, 4.134595, 4.1296916,
                        4.151019, 4.1308503, 4.196595, 4.3148303, 4.3593817, 4.346012, 4.357734, 4.3462806, 4.319236, 4.223151, 4.0739737, 4.1921415, 4.1839156, 4.175545, 4.157177, 4.1599064, 4.159954, 4.1702685, 4.158556, 3.833069, 3.69048,   -4.136558, 4.143999, 6.7919765, 7.191282, 5.663168, 3.023896, -2.4367037, -0.88756883 -4.0790205, -6.2814946, -7.410418, -8.270857, -8.258272, -8.861458, -9.60048, -10.300018, -10.093475, -9.701391, -9.339283, -9.105006, -8.777134, -8.425608, -8.256127, -8.346618, -8.307266, -8.222244, -8.144787, -8.094413, -8.686844, -8.946481, -9.24204, -9.462986, -9.254231,
                        -8.735331, -9.137126, -9.379218, -9.680457, -9.661542, -9.337961, -9.207679, -9.078822, -8.855702, -8.920575, -9.037479, -9.152488, -9.20492, -9.252144, -9.388901, -9.356684, -9.285442, -9.194808, -9.2042885, -8.951862, -8.891079, -9.167714, -9.138132, -9.093466, -9.49911, -9.5611105, -8.946357, -8.627104, -8.943885, -9.096779, -9.037067, -8.960156,
                        -9.036589, -9.281094, -9.863508, -9.362862, -7.7910385, -10.785439, -11.410191, -10.219563,
                        -9.91642,
                        -8.918507,
                        -7.796373,
                        -8.766072,
                        -10.10221,
                        -9.779912,
                        -9.503984,
                        -9.127109,
                        -8.827239,
                        -9.210456,
                        -8.64573,
                        -7.7993226,
                        -8.906717,
                        -9.839451,
                        -9.726349,
                        -11.3163185,
                        -10.430503,
                        -9.468953,
                        -9.176161,
                        -9.48782,
                        -9.83268,
                        -9.98002,
                        -9.738952,
                        -9.449091,
                        -9.484371,
                        -9.979196,
                        -9.676243,
                        -9.651745,
                        -9.87228,
                        -9.843482,
                        -9.433461,
                        -9.292605,
                        -9.472984,
                        -10.141714,
                        -10.525121,
                        -11.234571,
                        -10.837133,
                        -10.079991,
                        -9.695502,
                        -9.543049,
                        -9.437617,
                        -10.120023,
                        -10.301004,
                        -9.542818,
                        -8.856698,
                        -8.780256,
                        -9.258023,
                        -10.130863,
                        -9.309039,
                        -9.051903,
                        -9.324755,
                        -9.391006,
                        -10.4986315 ,
                    -11.575257,
                        -11.397865,
                        -10.815978,
                        -9.733962,
                        -9.017158,
                        -8.383029,
                        -9.348562,
                        -10.206894,
                        -9.873516,
                        -9.982279,
                        -10.02457,
                        -10.1890335
                                -10.966593,
                        -10.805751,
                        -10.242185,
                        -9.346945,
                        -9.273068,
                        -9.347423,
  -9.773524,
                        -10.121018,
                        -9.301033,
                        -8.966362,
                        -8.657185,
                        -8.785006,
                        -8.5810585,
                        -7.9961166,
                        -6.817394,
                        -6.104037,
                        -5.7952514,
                        -5.233639,
                        -4.8183117,
                        -5.274474,
                        -4.939602,
                        -4.52688,
                        -4.0807157,
                        -3.933233,
                        -3.927506,
  -3.8930676
                        -4.178571,
                        -3.3192542,
                        -3.7602088,
                        -2.9577203,
                        -1.6750027,
                        -0.87055093
                                -1.1205343,
                        -1.7571238,
                        -1.9891411,
                        -0.9953846,
                        0.58528656,
                        3.251048,
                4.6320524,
                        5.737216,
                        6.680838,
                        5.9253526,
   5.3474207,
 6.65748,
                        7.3170347,
                        7.226285,
                        6.8607473,
                        6.6686463,
  7.129291,
 6.938454,
                        7.4340158,
                        7.489896,
                        7.311174 };

                TimeSeries ts1=new TimeSeries(Y);





                double Y1[]={   -0.12544659,
                        -1.3622338,
                        -1.207099,
                        -1.904779,
                        -0.427863,
                        -0.9861621,
                        2.5847514,
                        0.01028549,
                        -0.33382833,
                        3.4548523,
                        5.2402563,
                        2.7901547,
                        4.1530395,
                        1.9577388,
                        2.5388882,
                        6.23974,
                        2.9120867,
                        5.4853554,
                        4.060365,
                        4.060049,
                        3.2856684,
                        1.6897796,
                        0.35619974,
                        1.0729663,
                        1.0305219,
                        3.6589243,
                        -1.160144,
                        1.1965933,
                        3.8944662,
                        2.3559136,
                        2.8036678,
                        0.41698372,
                        2.1728241,
                        2.4273279,
                        3.132133,
                        4.8270173,
                        -1.3321242,
                        1.9159743,
                        1.6440696,
                        3.007644,
                        2.0587933,
                        2.4611244,
                        1.8092695,
                        1.7732894,
                        2.632511,
                        2.8572307,
                        1.8591838,
                        2.4274235,
                        3.0729866,
                        2.6622565,
                        2.445811,
                        3.295676,
                        2.9021938,
                        2.9533722,
                        2.447037,
                        2.8793435,
                        2.6756258,
                        3.4119098,
                        3.0518122,
                        3.188703,
                        3.3240044,
                        3.3888106,
                        3.3597257,
                        3.3446805,
                        3.043308,
                        2.6164315,
                        3.5390515,
                        4.2131534,
                        5.282289,
                        4.520511,
                        5.780599,
                        3.5771768,
                        6.062358,
                        1.6286126,
                        -0.65549415,
                        -1.9985455,
                        -6.5967727,
                        -7.292518,
                        -11.510958,
                        -11.481452,
                        -11.103043,
                        -10.403889,
                        -9.374975,
                        -10.337598,
                        -10.961307,
                        -9.486766,
                        -8.529363,
                        -9.188936,
                        -9.068518,
                        -9.654867,
                        -9.450307,
                        -9.369584,
                        -7.464987,
                        -8.175711,
                        -8.581843,
                        -7.435864,
                        -9.378327,
                        -11.674013,
                        -11.463428,
                        -8.355112,
                        -6.6444845,
                        -3.9178047,
                        4.25623,
                        5.129318,
                        6.989144,
                        7.171362,
                        7.45564,
                        7.3884206,
                        7.2604074,
                        6.688509 };





                TimeSeries ts2=new TimeSeries(Y1);

                double d=  com.dtw.FastDTW.getWarpInfoBetween(ts1, ts2, 1, distFn).getDistance();

                tv.setText(""+d);
                Log.i("Distanza: ", " "+ d);
            }
        });




    }
}
